<!DOCTYPE html>
<html lang="en">
<head>
  <title>Yashas Ravi - Contacts</title>
  <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
  <meta charset="UTF-8">
    <meta name="description" content="This is the contact me page of my website">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href = "project_style.css">

  <!--Email JS-->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script type="text/javascript">
      (function() {
      emailjs.init("user_siOiEFukDbFwdUOyfuD17");
      })();
  </script>

<head>
<body>
  <header>
    <a class = "header-brand" href="index.html">Yashas Ravi</a>
    <nav>
      <ul>
        <li><a href="portfolio.html">Portfolio</a></li>
        <li><a href="aboutme.html">About Me</a></li>
        <li><a href="index.html">Main</a></li>
      </ul>
        <!--<a class = "header-cases" href="cases.html">Cases</a>-->
    </nav>
  </header>
  <main class="contactMeMain">
    <div class="contacts">
      <h1>
        <!--
        <br>
        <br>
        Email: yashas.ravi.nj@gmail.com
        <br>
        <br>
        Phone: (908)-230-9502
      -->
        <br>
        <br>
        Quick Links:
        <br>
        <br>
        <br>
        <a href=" https://www.linkedin.com/in/yashas-ravi/"  class = "link">My LinkedIn</a>
        <br>
        <br>
        <a href="https://www.instagram.com/yashas.ravi.nj/"  class = "link">My Instagram</a>
        <br>
        <br>
        <a href="https://github.com/YashasRavi"  class = "link">My Github</a>
        <br>
      </h1>
      <img src="Images/contact.png" alt="contacts">
      <br>
    </div>

      <div class="contactForm">
        <br>
        <br>
        <h2 class="textdir" style="font-size: 25px;"> Contact Me! </h2>
        <p style="color: yellow; font-weight: bold;"> This will send me an Email with your message :) </p>
        <br>
        <br>

        <input type="hidden" name="contact_number">

        <label class = "textdir">Name</label>
        <br> <br>
        <input id = "tbox" class = "fromName" rows="1" cols = "35" type="text">

        <br> <br>
        <!--
        <label class = "textdir">Email</label>
        <br> <br>
        <input id = "em" rows="1" cols = "35" type="email">
        <br> <br>
      -->

        <label class = "textdir">Message</label>
        <br> <br>
        <textarea id = "tbox" class = "msg" rows="8" cols = "28"></textarea>
        <br> <br>

        <!--<input id = "sub" type="submit" value="Send">-->

        <button id="sub" onclick="sendMail()"> Send Email <button>

        <br> <br> <br>

    </div>

  </main>

  <footer>
      <ul>
        <li>
          <a href="index.html" >Main</a>
        </li>
        <!--<li>
          <a href="cases.html">Cases</a>
        </li>-->
        <li>
          <a href="portfolio.html" >Portfolio</a>
        </li>
        <li>
          <a href="aboutme.html" >About me</a>
        </li>
        <li>
          <a href="contacts.html" >Contacts</a>
        </li>
      </ul>

      <div class = "footer-sm">
          <a href="https://www.instagram.com/yashas.ravi.nj/" >
            <img src="Images/Insta.png" alt="Instagram logo">
          </a>
          <a href="https://www.linkedin.com/in/yashas-ravi/" >
            <img src="Images/Link.png" alt="LinkedIn logo">
          </a>
          <a href="https://github.com/YashasRavi" >
            <img src="Images/gitLogo.png" alt="GitHub logo">
          </a>
      </div>
  </footer>
  <script src="https://smtpjs.com/v3/smtp.js"></script>

  <script>

    //RELOAD PAGE if window resize occurs!
    /*
    var rtime;
    var timeout = false;
    var delta = 200;
    $(window).resize(function() {
        rtime = new Date();
        if (timeout === false) {
            timeout = true;
            setTimeout(resizeend, delta);
        }
    });
    */

    function resizeend() {
        if (new Date() - rtime < delta) {
            setTimeout(resizeend, delta);
        } else {
            timeout = false;
            location.reload();
            //alert('Done resizing');
        }
    }

  //ANIMATES TEXT BOX
    let textInput = document.querySelector(".contactForm");
    let ques1 = document.querySelector("#textdir1");
    let ques2 = document.querySelector("#textdir2");
    let mes = document.querySelector("#tbox");
    let submit = document.querySelector("#sub");
    //submit.addEventListener("click", f1);
/*
    textInput.forEach((e) => {
      //Slides all the text into the screen!!
      e.style.marginLeft = "-600px";
      var id = setInterval(frame, 5);
      let pos = -600;
      function frame() {
        if (pos >= 30) {
          clearInterval(id);
        } else {
          pos+=3;
          e.style.marginLeft = pos + "px";
        }
      }
    });

  */

  //Fades in image and links
  let Contacts = document.querySelector(".contacts");
  Contacts.style.opacity = 0;

  var tick1 = function () {
    Contacts.style.opacity = +Contacts.style.opacity + 0.01;
    if (Contacts.style.opacity <= 1) {
        (window.requestAnimationFrame && requestAnimationFrame(tick1)) || setTimeout(tick1, 16);
    }
  };

  tick1();

  textInput.style.marginLeft = "-600px";
  var id = setInterval(frame, 5);
  let pos = -600;
  function frame() {
    if (pos >= 40) {
      clearInterval(id);
    } else {
      pos+=3;
      textInput.style.marginLeft = pos + "px";
    }
  }

  function sendMail () {
      var tempParams = {
        from_name:document.querySelector(".fromName").value,
        to_name:"Yashas Ravi",
        message:document.querySelector(".msg").value,
      };

      if (document.querySelector(".fromName").value.trim().length == 0 || document.querySelector(".msg").value.trim().length == 0) {
        alert("Please enter a valid name and message!");
      }
      else {

        emailjs.send("service_lbn5mgq", "contact_form", tempParams)
        .then(function(res) {
            console.log("success", res.status);
            alert("Message sent successfully!");
        })

      }

  }

/*
    function f1 () {
      alert("Hello! Thanks for messaging me! Right now I haven't configured a database yet to store user input, so feel free to directly email me at yashas.ravi.nj@gmail.com or text me at 908-230-9502!");
    }
*/

  //https://www.youtube.com/watch?v=NxVCq4p0Kb0

  </script>

</body>
</html>
